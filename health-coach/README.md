# -medical-project / health-coach

# ğŸ©º AI Blood Pressure Coach (Health Coach)

ê°œì¸ í˜ˆì•• ê¸°ë¡ì„ ëª¨ì•„ì„œ **ëŒ€ì‹œë³´ë“œÂ·ì°¨íŠ¸Â·ìƒí™œìŠµê´€ ì¸ì‚¬ì´íŠ¸**ë¡œ ë³´ì—¬ì£¼ê³ ,  
ê°„ë‹¨í•œ **AI ì½”ì¹˜ ëŠë‚Œì˜ ìš”ì•½**ê¹Œì§€ ì œê³µí•˜ëŠ” ì›¹ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

> ì˜ë£Œ ì§„ë‹¨/ì¹˜ë£Œìš©ì´ ì•„ë‹ˆë¼,  
> **ê°œì¸ ê±´ê°• ê¸°ë¡ì„ ë³´ê¸° ì¢‹ê²Œ ì •ë¦¬í•˜ê³  íŒ¨í„´ì„ ëŒì•„ë³´ëŠ” ìš©ë„**ë¡œ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥ (Features)

### 1. ëŒ€ì‹œë³´ë“œ (/)

- ìµœê·¼ 7ì¼ ë™ì•ˆì˜ **í‰ê·  í˜ˆì•• / í‰ê·  í˜ˆë‹¹** ìš”ì•½
- ê°€ì¥ ìµœê·¼ í˜ˆì••ê³¼ ìƒíƒœ ë¼ë²¨, ë©”ëª¨ í‘œì‹œ
- ìµœê·¼ í˜ˆì•• ê¸°ë¡ 10ê°œ í…Œì´ë¸”ë¡œ ë³´ê¸°
- **ìƒ˜í”Œ ë°ì´í„° ìƒì„± / ì „ì²´ ì‚­ì œ ë²„íŠ¼**ìœ¼ë¡œ ê°œë°œ ë° ë°ëª¨ ìš©ì´

> â€œì§€ê¸ˆ ë‚´ í˜ˆì••ì´ ì–´ë–¤ ìƒíƒœì¸ì§€ / ìµœê·¼ ì¼ì£¼ì¼ ë™ì•ˆ ì–´ë• ëŠ”ì§€â€ë¥¼ í•œëˆˆì— í™•ì¸

---

### 2. í˜ˆì•• ê¸°ë¡ ê´€ë¦¬

#### â• í˜ˆì•• ê¸°ë¡ ì¶”ê°€ (/records/new)

- ì¸¡ì • ì¼ì‹œ
- í˜ˆì••: ìˆ˜ì¶•ê¸° / ì´ì™„ê¸°
- ë§¥ë°• (ì„ íƒ)
- ìƒíƒœ ë¼ë²¨ (ì˜ˆ: ì•„ì¹¨ ê³µë³µ, ìš´ë™ í›„, ë‘í†µ, ì•¼ê·¼ í›„ ë“±)
- ë©”ëª¨ (ì»¨ë””ì…˜, ì•½/ìŒì‹, íŠ¹ì´ì‚¬í•­ ë“±)

#### âœï¸ ìˆ˜ì • & ğŸ—‘ ì‚­ì œ (/records)

- ì „ì²´ í˜ˆì•• ê¸°ë¡ ë¦¬ìŠ¤íŠ¸
- ê° ê¸°ë¡ì— ëŒ€í•´:
    - `ìˆ˜ì •` ë²„íŠ¼ â†’ `/records/[id]/edit` í˜ì´ì§€ì—ì„œ ê°’ ë³€ê²½
    - `ì‚­ì œ` ë²„íŠ¼ â†’ í•´ë‹¹ ê¸°ë¡ë§Œ ì œê±°

> CRUD(ìƒì„±/ì¡°íšŒ/ìˆ˜ì •/ì‚­ì œ)ê°€ ëª¨ë‘ êµ¬í˜„ëœ â€œê¸°ë¡ ê´€ë¦¬â€ ê¸°ëŠ¥

---

### 3. í˜ˆì•• ì¶”ì´ ë¼ì¸ ì°¨íŠ¸ (/charts)

- `GET /api/records?type=blood_pressure` ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ
- ìµœê·¼ ê¸°ê°„(7/14/30ì¼) ë™ì•ˆì˜ **ìˆ˜ì¶•ê¸° / ì´ì™„ê¸° ì¶”ì´**ë¥¼ ë¼ì¸ì°¨íŠ¸ë¡œ ì‹œê°í™”
- ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ê³ ì • í­ ê·¸ë˜í”„ (ëª¨ë°”ì¼ì—ì„œë„ ë³´ê¸° ì‰½ê²Œ ì„¤ê³„)
- ìƒë‹¨ì— **â€œâ† ëŒ€ì‹œë³´ë“œë¡œâ€** ë§í¬ë¡œ í™ˆìœ¼ë¡œ ë¹ ë¥´ê²Œ ì´ë™

> ì—°ì†ëœ ê¸°ë¡ì„ í†µí•´ â€œì–¸ì œ í˜ˆì••ì´ ë†’ê²Œ ë‚˜ì˜¤ëŠ”ì§€â€ ì‹œê°„ì„ ê¸°ì¤€ìœ¼ë¡œ ì§ê´€ì ìœ¼ë¡œ í™•ì¸

---

### 4. ëª©í‘œ í˜ˆì•• ì„¤ì • (/settings)

- ì‚¬ìš©ìë³„ **ëª©í‘œ í˜ˆì•• ë²”ìœ„** ì„¤ì •:
    - ëª©í‘œ ìˆ˜ì¶•ê¸° (ì˜ˆ: 120)
    - ëª©í‘œ ì´ì™„ê¸° (ì˜ˆ: 80)
- ì´ ê°’ì€ AI ì½”ì¹˜ í˜ì´ì§€ë‚˜ ìš”ì•½ì— í™œìš© ê°€ëŠ¥
- ìƒë‹¨ì— **â€œâ† ëŒ€ì‹œë³´ë“œë¡œâ€** ë§í¬

> ë‹¨ìˆœ ê¸°ë¡ì—ì„œ ëë‚˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼  
> **â€œë‚˜ë§Œì˜ ëª©í‘œ ë²”ìœ„â€ë¥¼ ì •í•´ë‘ê³  ë¹„êµí•  ìˆ˜ ìˆëŠ” êµ¬ì¡°**ë¥¼ ì¤€ë¹„

---

### 5. ë¼ì´í”„ìŠ¤íƒ€ì¼ ì¸ì‚¬ì´íŠ¸ (/insights)

- ìµœê·¼ Nì¼(7/14/30ì¼) ë™ì•ˆì˜ í˜ˆì•• ë°ì´í„°ë¥¼ **ìƒí™œìŠµê´€ë³„ë¡œ ê·¸ë£¹í•‘**í•´ì„œ ë¶„ì„

#### ìˆ˜ë©´ ì‹œê°„ê³¼ í˜ˆì••

- ìˆ˜ë©´ `< 6ì‹œê°„`ì¸ ë‚  vs `â‰¥ 6ì‹œê°„`ì¸ ë‚  í‰ê·  í˜ˆì•• ë¹„êµ
- ê° ê·¸ë£¹ì˜:
    - ì¸¡ì • íšŸìˆ˜
    - í‰ê·  ìˆ˜ì¶•ê¸°/ì´ì™„ê¸° í˜ˆì••
- ë°ì´í„°ê°€ ì¶©ë¶„í•œ ê²½ìš°, í‰ê·  ì°¨ì´ì— ë”°ë¼ ìì—°ì–´ ì½”ë©˜íŠ¸ ìƒì„±

#### ìš´ë™ ì—¬ë¶€ì™€ í˜ˆì••

- `ìš´ë™í•œ ë‚ ` vs `ìš´ë™í•˜ì§€ ì•Šì€ ë‚ ` í‰ê·  í˜ˆì•• ë¹„êµ
- ì°¨ì´ê°€ ìœ ì˜ë¯¸í•˜ë©´ ìƒí™œìŠµê´€ ì¡°ì–¸ ë¬¸ì¥ìœ¼ë¡œ ì•ˆë‚´

#### ìŠ¤íŠ¸ë ˆìŠ¤ì™€ í˜ˆì••

- ìŠ¤íŠ¸ë ˆìŠ¤ ìˆ˜ì¤€(1~5)ì„ ì„¸ ê·¸ë£¹ìœ¼ë¡œ:
    - ë‚®ìŒ (1~2)
    - ë³´í†µ (3)
    - ë†’ìŒ (4~5)
- ê·¸ë£¹ë³„ í‰ê·  í˜ˆì•• + ê¸°ë¡ ìˆ˜
- ìŠ¤íŠ¸ë ˆìŠ¤ ë†’ìŒ vs ë‚®ìŒ ì°¨ì´ì— ë”°ë¼ ì¡°ì–¸ ë¬¸ì¥ ì œê³µ

> ìˆ˜ë©´Â·ìš´ë™Â·ìŠ¤íŠ¸ë ˆìŠ¤ì™€ í˜ˆì••ì˜ ê´€ê³„ë¥¼  
> ìˆ«ì + ì§§ì€ ì„¤ëª…ìœ¼ë¡œ ë³´ì—¬ì£¼ëŠ” â€œì¸ì‚¬ì´íŠ¸â€ í˜ì´ì§€

---

### 6. AI ì½”ì¹˜ ìš”ì•½ (/ai-coach)

- (ë²„ì „ 1 ê¸°ì¤€) **ê·œì¹™ ê¸°ë°˜ ì½”ë©˜íŠ¸**:
    - ìµœê·¼ í‰ê·  í˜ˆì••ì´ ëª©í‘œ ë²”ìœ„ ì•ˆ/ë°–ì¸ì§€
    - ìµœê·¼ ì¸¡ì •ê°’ì´ ë„ˆë¬´ ë†’ì€ í¸ì¸ì§€
    - ê¸°ë¡ ë¹ˆë„ëŠ” ì ë‹¹í•œì§€
- ì‚¬ìš©ìì—ê²Œ **â€œì˜¤ëŠ˜ ìƒíƒœ ìš”ì•½ + ê°„ë‹¨ ì¡°ì–¸â€**ì„ í•œêµ­ì–´ë¡œ ì œê³µ

> ì´í›„ ë²„ì „ì—ì„œëŠ” OpenAI API ì—°ë™ìœ¼ë¡œ  
> ë” ìì—°ìŠ¤ëŸ¬ìš´ â€œAI í—¬ìŠ¤ ì½”ì¹˜â€ ë¬¸ì¥ì„ ìƒì„±í•˜ë„ë¡ í™•ì¥ ê°€ëŠ¥

---

### 7. ìƒ˜í”Œ ë°ì´í„° & ì´ˆê¸°í™” (ê°œë°œ/ë°ëª¨ìš©)

- `POST /api/records/dev/seed-bp`
    - ìµœê·¼ Nì¼, í•˜ë£¨ Më²ˆì”© í˜ˆì•• ê¸°ë¡ ìë™ ìƒì„±
    - ìƒíƒœ(state), ë©”ëª¨(memo), ìˆ˜ë©´ ì‹œê°„, ìš´ë™ ì—¬ë¶€, ìŠ¤íŠ¸ë ˆìŠ¤ ë ˆë²¨ê¹Œì§€ **ëœë¤ìœ¼ë¡œ ì±„ì›Œì§„ í˜„ì‹¤ê° ìˆëŠ” ìƒ˜í”Œ**
- `DELETE /api/records/dev/clear-all`
    - í˜„ì¬ ì‚¬ìš©ì(`userId=1`)ì˜ ëª¨ë“  ê¸°ë¡ ì‚­ì œ

> ë°ëª¨/í…ŒìŠ¤íŠ¸/ë¦¬ì…‹ì´ ì‰¬ì›Œì„œ,  
> í¬íŠ¸í´ë¦¬ì˜¤ ë°œí‘œ ì „ì— í•­ìƒ **ê¹¨ë—í•˜ê²Œ ì´ˆê¸°í™” â†’ ìƒ˜í”Œ ì±„ìš°ê¸°**ë¥¼ ê°„ë‹¨íˆ ìˆ˜í–‰ ê°€ëŠ¥

---

## ğŸ— ê¸°ìˆ  ìŠ¤íƒ (Tech Stack)

### Frontend

- **Next.js (App Router)**
- React
- TypeScript
- Tailwind CSS (ë‹¤í¬ ëª¨ë“œ ëŠë‚Œ UI)
- Recharts (í˜ˆì•• ë¼ì¸ ì°¨íŠ¸)
- Fetch APIë¡œ ë°±ì—”ë“œì™€ í†µì‹ 

### Backend

- Node.js
- Express
- Prisma (ORM)
- SQLite (íŒŒì¼ ê¸°ë°˜ dev DB: `dev.db`)
- RESTful API ì„¤ê³„

---

## ğŸ“‚ ì£¼ìš” í”„ë¡œì íŠ¸ êµ¬ì¡°

```txt
health-coach/
â”œâ”€ health-coach-backend/
â”‚  â”œâ”€ src/
â”‚  â”‚  â”œâ”€ server.ts           # Express ì„œë²„ ì§„ì…ì 
â”‚  â”‚  â”œâ”€ routes/
â”‚  â”‚  â”‚  â”œâ”€ records.ts       # í˜ˆì••/í˜ˆë‹¹ ê¸°ë¡, í†µê³„, ìƒ˜í”Œ, ì‚­ì œ API
â”‚  â”‚  â”‚  â””â”€ user.ts          # ëª©í‘œ í˜ˆì•• ë“± ì‚¬ìš©ì í”„ë¡œí•„ API
â”‚  â”‚  â””â”€ lib/
â”‚  â”‚     â””â”€ prisma.ts        # Prisma í´ë¼ì´ì–¸íŠ¸
â”‚  â”œâ”€ prisma/
â”‚  â”‚  â”œâ”€ schema.prisma       # HealthRecord, UserProfile ëª¨ë¸ ì •ì˜
â”‚  â”‚  â””â”€ dev.db              # SQLite ê°œë°œìš© DB íŒŒì¼
â”‚  â””â”€ .env                   # DATABASE_URL ë“± í™˜ê²½ë³€ìˆ˜
â”‚
â””â”€ health-coach-web/
   â”œâ”€ app/
   â”‚  â”œâ”€ page.tsx            # ëŒ€ì‹œë³´ë“œ
   â”‚  â”œâ”€ records/
   â”‚  â”‚  â”œâ”€ page.tsx         # ì „ì²´ ê¸°ë¡ ê´€ë¦¬
   â”‚  â”‚  â”œâ”€ new/page.tsx     # ê¸°ë¡ ì¶”ê°€
   â”‚  â”‚  â””â”€ [id]/edit/page.tsx # ê¸°ë¡ ìˆ˜ì •
   â”‚  â”œâ”€ charts/page.tsx     # í˜ˆì•• ì¶”ì´ ë¼ì¸ ì°¨íŠ¸
   â”‚  â”œâ”€ ai-coach/page.tsx   # AI ì½”ì¹˜ ìš”ì•½
   â”‚  â”œâ”€ settings/page.tsx   # ëª©í‘œ í˜ˆì•• ì„¤ì •
   â”‚  â””â”€ insights/page.tsx   # ë¼ì´í”„ìŠ¤íƒ€ì¼ ì¸ì‚¬ì´íŠ¸
   â””â”€ ... ê¸°íƒ€ ì„¤ì • íŒŒì¼ë“¤
ğŸ”Œ ì£¼ìš” API ì„¤ê³„
ê¸°ë¡ ê´€ë ¨
GET /api/records?type=blood_pressure

ì¿¼ë¦¬ë¡œ íƒ€ì… í•„í„°ë§ (blood_pressure / blood_sugar)

POST /api/records

GET /api/records/:id

PUT /api/records/:id

DELETE /api/records/:id

í†µê³„/ì¸ì‚¬ì´íŠ¸
GET /api/records/stats/summary?rangeDays=7

GET /api/records/stats/lifestyle?rangeDays=30

ê°œë°œ/ë°ëª¨ìš©
POST /api/records/dev/seed-bp

DELETE /api/records/dev/clear-all

ì‚¬ìš©ì ëª©í‘œ í˜ˆì••
GET /api/user/profile

PUT /api/user/profile

(ì‹¤ì œ êµ¬í˜„ì— ë§ê²Œ ì¡°ì • ê°€ëŠ¥)

ğŸš€ ë¡œì»¬ ì‹¤í–‰ ë°©ë²•
1) ë°±ì—”ë“œ
bash
ì½”ë“œ ë³µì‚¬
cd health-coach/health-coach-backend

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# Prisma ë§ˆì´ê·¸ë ˆì´ì…˜ (í•„ìš”ì‹œ)
npx prisma migrate dev

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev
# â†’ http://localhost:4000
í™˜ê²½ ë³€ìˆ˜ ì˜ˆì‹œ (.env):

env
ì½”ë“œ ë³µì‚¬
DATABASE_URL="file:./dev.db"
2) í”„ë¡ íŠ¸ì—”ë“œ
bash
ì½”ë“œ ë³µì‚¬
cd health-coach/health-coach-web

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev
# â†’ http://localhost:3000
âš ï¸ ì˜ë£Œ ë„ë©”ì¸ì— ëŒ€í•œ ì£¼ì˜
ì´ í”„ë¡œì íŠ¸ëŠ” í•™ìŠµ/í¬íŠ¸í´ë¦¬ì˜¤ìš©ìœ¼ë¡œ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.

ë³´ì—¬ì§€ëŠ” ëª¨ë“  ìˆ˜ì¹˜/ì¸ì‚¬ì´íŠ¸/ì½”ë©˜íŠ¸ëŠ” ì˜ë£Œì  ì§„ë‹¨ì´ë‚˜ ì¹˜ë£Œ ì§€ì‹œê°€ ì•„ë‹ˆë©°,
ì‹¤ì œ ê±´ê°• ìƒíƒœì— ëŒ€í•œ íŒë‹¨ì€ ë°˜ë“œì‹œ ì˜ë£Œ ì „ë¬¸ê°€ì™€ ìƒì˜í•´ì•¼ í•©ë‹ˆë‹¤.

âœ… í–¥í›„ í™•ì¥ ì•„ì´ë””ì–´
OpenAI APIë¥¼ ì´ìš©í•œ ìì—°ì–´ ê¸°ë°˜ AI ì½”ì¹˜ (í˜ˆì•• + ë¼ì´í”„ìŠ¤íƒ€ì¼ ì¢…í•© í”¼ë“œë°±)

ë¡œê·¸ì¸/íšŒì› ì‹œìŠ¤í…œ, ë‹¤ì¤‘ ì‚¬ìš©ì ì§€ì›

CSV/ì—‘ì…€ë¡œ ë°ì´í„° ë‚´ë³´ë‚´ê¸°

PWA & ëª¨ë°”ì¼ í™ˆ í™”ë©´ ì•„ì´ì½˜ ì¶”ê°€

ë°°í¬ (ì˜ˆ: Vercel + Render / Railway ë“±) ë° ì‹¤ì‚¬ìš© ë²„ì „ ì¤€ë¹„